<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>El Buz√≥n de las Letras Sonoras</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', cursive, sans-serif;
      background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 25%, #fecfef 75%, #ffc3a0 100%);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      height: 100%;
      overflow: auto;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    html {
      height: 100%;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .title {
      font-size: 48px;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: rainbowText 3s ease-in-out infinite;
      text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
      margin: 0 0 15px 0;
      position: relative;
    }

    .title::after {
      content: '‚ú®üìÆ‚ú®';
      position: absolute;
      top: -10px;
      right: -60px;
      font-size: 24px;
      animation: sparkle 2s ease-in-out infinite;
    }

    @keyframes rainbowText {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes sparkle {
      0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
      50% { transform: scale(1.2) rotate(10deg); opacity: 1; }
    }

    .instructions {
      font-size: 20px;
      color: #2d3436;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
      margin: 0;
    }

    .description-box {
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.8));
      border-radius: 20px;
      padding: 20px;
      margin: 20px auto;
      max-width: 1500px;
      box-shadow: 
        0 10px 25px rgba(0,0,0,0.1),
        inset 0 1px 0 rgba(255,255,255,0.8);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
    }

    .description-title {
      font-size: 22px;
      color: #667eea;
      margin: 0 0 15px 0;
      text-align: center;
      font-weight: bold;
    }

    .description-text {
      font-size: 16px;
      color: #2d3436;
      line-height: 1.6;
      text-align: left;
    }

    .description-text p {
      margin: 8px 0;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
    }

    .description-text strong {
      color: #e17055;
    }

    .game-area {
      display: grid;
      grid-template-columns: 2fr 1.5fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .cards-section {
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
      border-radius: 25px;
      padding: 25px;
      box-shadow: 
        0 15px 35px rgba(0,0,0,0.15),
        inset 0 1px 0 rgba(255,255,255,0.8),
        0 0 0 1px rgba(255,255,255,0.3);
      backdrop-filter: blur(10px);
      border: 2px solid transparent;
      background-clip: padding-box;
      position: relative;
      overflow: hidden;
    }

    .cards-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      background-size: 200% 100%;
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { background-position: -200% 0; }
      50% { background-position: 200% 0; }
    }

    .floating-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      font-size: 20px;
      opacity: 0.6;
      animation: float 15s infinite linear;
    }

    .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
    .particle:nth-child(2) { left: 20%; animation-delay: -2s; }
    .particle:nth-child(3) { left: 30%; animation-delay: -4s; }
    .particle:nth-child(4) { left: 40%; animation-delay: -6s; }
    .particle:nth-child(5) { left: 50%; animation-delay: -8s; }
    .particle:nth-child(6) { left: 60%; animation-delay: -10s; }
    .particle:nth-child(7) { left: 70%; animation-delay: -12s; }
    .particle:nth-child(8) { left: 80%; animation-delay: -14s; }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    .cards-title {
      font-size: 24px;
      color: #667eea;
      margin: 0 0 15px 0;
      text-align: center;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      min-height: 400px;
      max-height: 500px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .card {
      background: linear-gradient(145deg, #fff3cd, #ffeaa7, #fdcb6e);
      border-radius: 20px;
      padding: 20px;
      text-align: center;
      cursor: move;
      box-shadow: 
        0 8px 25px rgba(0,0,0,0.15),
        inset 0 1px 0 rgba(255,255,255,0.6),
        0 0 0 1px rgba(255,255,255,0.2);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 3px solid transparent;
      background-clip: padding-box;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s;
    }

    .card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 
        0 15px 35px rgba(0,0,0,0.25),
        inset 0 1px 0 rgba(255,255,255,0.8),
        0 0 0 1px rgba(255,255,255,0.3);
    }

    .card:hover::before {
      left: 100%;
    }

    .card.dragging {
      opacity: 0.5;
    }

    .card-emoji {
      font-size: 50px;
      margin-bottom: 8px;
      display: block;
    }

    .card-word {
      font-size: 18px;
      font-weight: bold;
      color: #2d3436;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
      line-height: 1.2;
    }

    .mailbox-section {
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
      border-radius: 25px;
      padding: 25px;
      box-shadow: 
        0 15px 35px rgba(0,0,0,0.15),
        inset 0 1px 0 rgba(255,255,255,0.8),
        0 0 0 1px rgba(255,255,255,0.3);
      backdrop-filter: blur(10px);
      border: 2px solid transparent;
      background-clip: padding-box;
      position: relative;
      overflow: hidden;
    }

    .mailbox-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #a29bfe, #6c5ce7, #5f3dc4, #74b9ff, #0984e3);
      background-size: 200% 100%;
      animation: shimmer 3s ease-in-out infinite;
    }

    .mailbox-title {
      font-size: 24px;
      color: #667eea;
      margin: 0 0 15px 0;
      text-align: center;
    }

    .letters-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
    }

    .letter-slot {
      aspect-ratio: 1;
      background: linear-gradient(145deg, #a29bfe, #6c5ce7, #5f3dc4);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: bold;
      color: white;
      border: 3px solid transparent;
      background-clip: padding-box;
      box-shadow: 
        0 6px 20px rgba(108, 92, 231, 0.3),
        inset 0 1px 0 rgba(255,255,255,0.3);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
    }

    .letter-slot::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: rotate 3s linear infinite;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .letter-slot:hover::before {
      opacity: 1;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .letter-slot.drag-over {
      background: linear-gradient(145deg, #55efc4, #00b894, #00a085);
      transform: scale(1.15) rotate(5deg);
      box-shadow: 
        0 10px 30px rgba(0, 184, 148, 0.4),
        inset 0 1px 0 rgba(255,255,255,0.4);
    }

    .letter-slot.correct {
      background: linear-gradient(145deg, #55efc4, #00b894, #00a085);
      animation: celebrate 0.8s ease;
      box-shadow: 
        0 0 30px rgba(0, 184, 148, 0.6),
        inset 0 1px 0 rgba(255,255,255,0.4);
    }

    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      15% { transform: scale(1.2) rotate(-10deg); }
      30% { transform: scale(1.3) rotate(10deg); }
      45% { transform: scale(1.2) rotate(-5deg); }
      60% { transform: scale(1.25) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-2deg); }
      90% { transform: scale(1.15) rotate(2deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    .letter-slot .mini-card {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
    }

    .score-section {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      margin-bottom: 20px;
    }

    .score-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .score-text {
      font-size: 24px;
      color: #2d3436;
      margin: 0;
      font-weight: bold;
    }

    .score-number {
      font-size: 36px;
      font-weight: bold;
      color: #00b894;
      margin: 0;
      background: linear-gradient(145deg, #55efc4, #00b894);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .reset-button {
      background: linear-gradient(145deg, #fd79a8, #e84393, #d63384);
      color: white;
      border: none;
      border-radius: 20px;
      padding: 18px 35px;
      font-size: 22px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 
        0 8px 25px rgba(232, 67, 147, 0.3),
        inset 0 1px 0 rgba(255,255,255,0.3);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      font-family: inherit;
      position: relative;
      overflow: hidden;
    }

    .reset-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .reset-button:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 
        0 12px 35px rgba(232, 67, 147, 0.4),
        inset 0 1px 0 rgba(255,255,255,0.4);
    }

    .reset-button:hover::before {
      left: 100%;
    }

    .reset-button:active {
      transform: translateY(-2px) scale(1.02);
    }

    .success-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
      color: white;
      padding: 30px 50px;
      border-radius: 20px;
      font-size: 36px;
      font-weight: bold;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      z-index: 1000;
      animation: popup 0.5s ease forwards;
    }

    .error-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: linear-gradient(135deg, #ff6b6b 0%, #e55353 100%);
      color: white;
      padding: 30px 50px;
      border-radius: 20px;
      font-size: 36px;
      font-weight: bold;
      box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
      z-index: 1000;
      animation: popup 0.5s ease forwards;
      border: 3px solid rgba(255, 255, 255, 0.3);
    }

    @keyframes popup {
      0% { transform: translate(-50%, -50%) scale(0); }
      50% { transform: translate(-50%, -50%) scale(1.1); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .game-area {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .letters-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
      }

      .letter-slot {
        font-size: 24px;
      }

      .title {
        font-size: 28px;
      }

      .instructions {
        font-size: 16px;
        padding: 0 10px;
      }

      .description-box {
        margin: 15px 10px;
        padding: 15px;
      }

      .description-text {
        font-size: 14px;
      }

      .score-section {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }

      .score-info {
        justify-content: center;
      }

      .cards-container {
        grid-template-columns: repeat(2, 1fr);
        max-height: 300px;
      }

      .card {
        padding: 15px;
      }

      .card-emoji {
        font-size: 40px;
      }

      .card-word {
        font-size: 16px;
      }

      .cards-section, .mailbox-section {
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      .letters-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .letter-slot {
        font-size: 20px;
      }

      .title {
        font-size: 24px;
      }

      .cards-container {
        grid-template-columns: 1fr;
      }
    }

    .copyright {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
      border-radius: 15px;
      box-shadow: 
        0 5px 15px rgba(0,0,0,0.1),
        inset 0 1px 0 rgba(255,255,255,0.6);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255,255,255,0.3);
    }

    .copyright p {
      margin: 0;
      font-size: 14px;
      color: #636e72;
      font-weight: 500;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
      letter-spacing: 0.5px;
    }

    @media (max-width: 768px) {
      .copyright {
        margin-top: 20px;
        padding: 15px;
      }

      .copyright p {
        font-size: 12px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="floating-particles">
   <div class="particle">
    üåü
   </div>
   <div class="particle">
    ‚ú®
   </div>
   <div class="particle">
    üéµ
   </div>
   <div class="particle">
    üìö
   </div>
   <div class="particle">
    üé®
   </div>
   <div class="particle">
    üåà
   </div>
   <div class="particle">
    ‚≠ê
   </div>
   <div class="particle">
    üí´
   </div>
  </div>
  <div class="container">
   <div class="header">
    <h1 class="title" id="titleText">El Buz√≥n de las Letras Sonoras</h1>
    <p class="instructions" id="instructionText">Arrastra cada imagen a la letra correcta seg√∫n su sonido inicial</p>
    <div class="description-box">
     <div class="description-content">
      <h3 class="description-title">üìã ¬øC√≥mo jugar?</h3>
      <div class="description-text">
       <p><strong>1.</strong> Arrastra cada tarjeta con imagen hacia la letra correcta</p>
       <p><strong>2.</strong> üîä <strong>Haz clic en las tarjetas</strong> para escuchar c√≥mo se pronuncia la palabra</p>
       <p><strong>3.</strong> üî§ <strong>Haz clic en las letras</strong> para escuchar su sonido</p>
       <p><strong>4.</strong> ¬°Completa todas las letras del abecedario!</p>
      </div>
     </div>
    </div>
   </div>
   <div class="score-section">
    <div class="score-info">
     <p class="score-text">Aciertos</p>
     <div class="score-number" id="scoreNumber">
      0
     </div>
    </div><button class="reset-button" id="resetButton">üîÑ Reiniciar Juego</button>
   </div>
   <div class="game-area">
    <div class="cards-section">
     <h2 class="cards-title">Tarjetas</h2>
     <div class="cards-container" id="cardsContainer"></div>
    </div>
    <div class="mailbox-section">
     <h2 class="mailbox-title">Buz√≥n de Letras</h2>
     <div class="letters-grid" id="lettersGrid"></div>
    </div>
   </div>
   <div class="copyright">
    <p>¬© 2025 Aaron Sixto Callupe Llallico - Todos los derechos reservados</p>
   </div>
  </div>
  <script>
    const defaultConfig = {
      title_text: "El Buz√≥n de las Letras Sonoras",
      instruction_text: "Arrastra cada imagen a la letra correcta seg√∫n su sonido inicial",
      success_message: "¬°Muy bien!"
    };

    const words = [
      { word: "Avi√≥n", emoji: "‚úàÔ∏è", letter: "A" },
      { word: "Barco", emoji: "üö¢", letter: "B" },
      { word: "Casa", emoji: "üè†", letter: "C" },
      { word: "Dado", emoji: "üé≤", letter: "D" },
      { word: "Elefante", emoji: "üêò", letter: "E" },
      { word: "Flor", emoji: "üå∏", letter: "F" },
      { word: "Gato", emoji: "üê±", letter: "G" },
      { word: "Helado", emoji: "üç¶", letter: "H" },
      { word: "Igl√∫", emoji: "üèîÔ∏è", letter: "I" },
      { word: "Jirafa", emoji: "ü¶í", letter: "J" },
      { word: "Kiwi", emoji: "ü•ù", letter: "K" },
      { word: "Luna", emoji: "üåô", letter: "L" },
      { word: "Mesa", emoji: "ü™ë", letter: "M" },
      { word: "Nube", emoji: "‚òÅÔ∏è", letter: "N" },
      { word: "Oso", emoji: "üêª", letter: "O" },
      { word: "Pelota", emoji: "‚öΩ", letter: "P" },
      { word: "Queso", emoji: "üßÄ", letter: "Q" },
      { word: "Rana", emoji: "üê∏", letter: "R" },
      { word: "Sol", emoji: "‚òÄÔ∏è", letter: "S" },
      { word: "Tigre", emoji: "üêÖ", letter: "T" },
      { word: "Uva", emoji: "üçá", letter: "U" },
      { word: "Vaca", emoji: "üêÑ", letter: "V" },
      { word: "Wafle", emoji: "üßá", letter: "W" },
      { word: "Xil√≥fono", emoji: "üéµ", letter: "X" },
      { word: "Yoyo", emoji: "ü™Ä", letter: "Y" },
      { word: "Zapato", emoji: "üëü", letter: "Z" }
    ];

    const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
    let score = 0;
    let draggedCard = null;

    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    function initializeGame() {
      const cardsContainer = document.getElementById("cardsContainer");
      const lettersGrid = document.getElementById("lettersGrid");

      cardsContainer.innerHTML = "";
      lettersGrid.innerHTML = "";

      const shuffledWords = shuffleArray(words);

      shuffledWords.forEach((item, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.draggable = true;
        card.dataset.letter = item.letter;
        card.dataset.index = index;
        card.innerHTML = `
          <div class="card-emoji">${item.emoji}</div>
          <div class="card-word">${item.word}</div>
        `;

        card.addEventListener("dragstart", handleDragStart);
        card.addEventListener("dragend", handleDragEnd);
        card.addEventListener("click", () => playWordSound(item.word));

        cardsContainer.appendChild(card);
      });

      alphabet.forEach(letter => {
        const slot = document.createElement("div");
        slot.className = "letter-slot";
        slot.dataset.letter = letter;
        slot.textContent = letter;

        slot.addEventListener("dragover", handleDragOver);
        slot.addEventListener("dragleave", handleDragLeave);
        slot.addEventListener("drop", handleDrop);
        slot.addEventListener("click", () => playLetterSound(letter));

        lettersGrid.appendChild(slot);
      });

      updateScore();
    }

    function handleDragStart(e) {
      draggedCard = e.target;
      e.target.classList.add("dragging");
      e.dataTransfer.effectAllowed = "move";
    }

    function handleDragEnd(e) {
      e.target.classList.remove("dragging");
    }

    function handleDragOver(e) {
      e.preventDefault();
      e.dataTransfer.dropEffect = "move";
      e.currentTarget.classList.add("drag-over");
    }

    function handleDragLeave(e) {
      e.currentTarget.classList.remove("drag-over");
    }

    function handleDrop(e) {
      e.preventDefault();
      const slot = e.currentTarget;
      slot.classList.remove("drag-over");

      if (!draggedCard) return;

      const cardLetter = draggedCard.dataset.letter;
      const slotLetter = slot.dataset.letter;

      if (cardLetter === slotLetter) {
        slot.classList.add("correct");
        
        const cardIndex = draggedCard.dataset.index;
        const wordData = words[cardIndex];
        
        const miniCard = document.createElement("div");
        miniCard.className = "mini-card";
        miniCard.textContent = wordData.emoji;
        slot.appendChild(miniCard);

        draggedCard.remove();
        
        score++;
        updateScore();

        playSuccessSound();
        showSuccessMessage();

        if (score === words.length) {
          setTimeout(() => {
            alert("üéâ ¬°Felicitaciones! ¬°Completaste todas las letras!");
          }, 500);
        }
      } else {
        draggedCard.style.animation = "shake 0.5s";
        setTimeout(() => {
          if (draggedCard) {
            draggedCard.style.animation = "";
          }
        }, 500);
        
        playErrorSound();
        showErrorMessage();
      }

      draggedCard = null;
    }

    function updateScore() {
      document.getElementById("scoreNumber").textContent = score;
    }

    function playLetterSound(letter) {
      const audio = new Audio(`sonidos/sonido${letter.toLowerCase()}.mp3`);
      audio.volume = 0.7;
      audio.play().catch(error => {
        console.log('Error reproduciendo sonido de letra:', error);
        playSuccessSound(); // Fallback al sonido sint√©tico
      });
    }

    function playWordSound(word) {
      const audio = new Audio(`sonidos/sonido-${word.toLowerCase()}.mp3`);
      audio.volume = 0.7;
      audio.play().catch(error => {
        console.log('Error reproduciendo sonido de palabra:', error);
      });
    }

    function playSuccessSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);

      oscillator.frequency.value = 800;
      oscillator.type = "sine";

      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);

      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    }

    function playErrorSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      
      // Primer tono descendente
      const oscillator1 = audioContext.createOscillator();
      const gainNode1 = audioContext.createGain();
      
      oscillator1.connect(gainNode1);
      gainNode1.connect(audioContext.destination);
      
      oscillator1.frequency.setValueAtTime(400, audioContext.currentTime);
      oscillator1.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.2);
      oscillator1.type = "sine";
      
      gainNode1.gain.setValueAtTime(0.2, audioContext.currentTime);
      gainNode1.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
      
      oscillator1.start(audioContext.currentTime);
      oscillator1.stop(audioContext.currentTime + 0.2);
      
      // Segundo tono m√°s suave
      setTimeout(() => {
        const oscillator2 = audioContext.createOscillator();
        const gainNode2 = audioContext.createGain();
        
        oscillator2.connect(gainNode2);
        gainNode2.connect(audioContext.destination);
        
        oscillator2.frequency.value = 300;
        oscillator2.type = "sine";
        
        gainNode2.gain.setValueAtTime(0.15, audioContext.currentTime);
        gainNode2.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
        
        oscillator2.start(audioContext.currentTime);
        oscillator2.stop(audioContext.currentTime + 0.15);
      }, 100);
    }

    function showSuccessMessage() {
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const message = document.createElement("div");
      message.className = "success-message";
      message.textContent = config.success_message || defaultConfig.success_message;
      document.body.appendChild(message);

      setTimeout(() => {
        message.remove();
      }, 1500);
    }

    function showErrorMessage() {
      const errorMessages = [
        "¬°Int√©ntalo de nuevo! üòä",
        "¬°Casi lo tienes! üí™",
        "¬°Sigue intentando! üåü",
        "¬°T√∫ puedes! ‚ú®",
        "¬°No te rindas! üéØ"
      ];
      
      const randomMessage = errorMessages[Math.floor(Math.random() * errorMessages.length)];
      const message = document.createElement("div");
      message.className = "error-message";
      message.textContent = randomMessage;
      document.body.appendChild(message);

      setTimeout(() => {
        message.remove();
      }, 1500);
    }

    document.getElementById("resetButton").addEventListener("click", () => {
      score = 0;
      initializeGame();
    });

    const style = document.createElement("style");
    style.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
      }
    `;
    document.head.appendChild(style);

    async function onConfigChange(config) {
      document.getElementById("titleText").textContent = config.title_text || defaultConfig.title_text;
      document.getElementById("instructionText").textContent = config.instruction_text || defaultConfig.instruction_text;
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["title_text", config.title_text || defaultConfig.title_text],
          ["instruction_text", config.instruction_text || defaultConfig.instruction_text],
          ["success_message", config.success_message || defaultConfig.success_message]
        ])
      });
    }

    initializeGame();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9990b3ea86c1c2d8',t:'MTc2MjIyMzU2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
